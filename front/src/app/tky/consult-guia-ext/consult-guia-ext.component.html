<mat-card >
    <!-- <mat-card-header>
        <mat-card-title align="center" >Guias Externas</mat-card-title>
    </mat-card-header> -->

    <mat-card-content>
        <div id="consultGExt" class="page-layout blank">
            <div class='container-flex'>
              <div>
                <h2>
                 Consultar Guia Externa
                </h2>
              </div>
              <div class="search-div">
                  <!-- <mat-form-field>
                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                  </mat-form-field> -->
                  <mat-form-field appearance="outline" class="search-form-field" floatLabel="never">
                      <input matInput [(ngModel)]="searchKey" placeholder="Buscar Numero de Guia" autocomplete="off" >
                      <button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchKey!=''"  (click)="onSearchClear()">
                        <mat-icon>search</mat-icon>
                      </button>
                    </mat-form-field>
                
                </div>
            </div>
            <mat-divider></mat-divider>


              <div>
                <table mat-table [dataSource]="dataSource" matSort>
              
                  <!-- ID Column -->
                
            
              <!-- <ng-container matColumnDef="id_destinatario">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> ID Destinatario </th>
                <td mat-cell *matCellDef="let row" > {{row.id_destinatario}} </td>
              </ng-container> -->
            
              <ng-container matColumnDef="Identificacion">
                <th mat-header-cell *matHeaderCellDef > Identificacion </th>
                <td mat-cell *matCellDef="let row" > {{row.Identificacion}} </td>
              </ng-container>
            
              <ng-container matColumnDef="Nombre_Destinatario">
                <th mat-header-cell *matHeaderCellDef > Nombre </th>
                <td mat-cell *matCellDef="let row" > {{row.Nombre_Destinatario}} </td>
              </ng-container>
              <ng-container matColumnDef="id_guia">
                <th mat-header-cell *matHeaderCellDef > ID Guia </th>
                <td mat-cell *matCellDef="let row"> {{row.id_guia}} </td>
              </ng-container>
            
              <!-- Progress Column -->
              <ng-container matColumnDef="guia_externa">
                <th mat-header-cell *matHeaderCellDef > Numero Guia </th>
                <td mat-cell *matCellDef="let row"> {{row.guia_externa}} </td>
              </ng-container>
            <!-- Name Column -->
            <ng-container matColumnDef="estado">
            <th mat-header-cell *matHeaderCellDef > Estado </th>
            <td mat-cell *matCellDef="let row"> {{row.estado}} </td>
            </ng-container>
            
            <!-- Color Column -->
            <ng-container matColumnDef="mapeo">
            <th mat-header-cell *matHeaderCellDef > Mapeada </th>
            <td mat-cell *matCellDef="let row" > {{row.mapeo}} </td>
            </ng-container>
            
              <ng-container matColumnDef="Actions" class="left">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let row" (click)="$event.stopPropagation()">
                <button mat-icon-button color="accent" [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                  <mat-icon class="mat-18">reorder</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu">
                      <button mat-menu-item >
                          <mat-icon>edit</mat-icon>
                          <span>Editar</span>
                        </button>
                    <!-- <button mat-menu-item>
                      <mat-icon>delete</mat-icon>
                      <span>Eliminar</span>
                    </button> -->
                    
                    <button mat-menu-item  [matMenuTriggerFor]="proveedores" [disabled]='row.mapeo==="si"'>
                      <mat-icon>device_hub</mat-icon>
                      <span>Mapear</span>
                    </button>
                  </mat-menu>
                  <mat-menu #proveedores>
                      <button mat-menu-item (click)='openDialogLaar(row)'>Laar</button>
                      <button mat-menu-item (click)='openDialogTramaco(row)'>Tramaco</button>
                      
                  </mat-menu>
                
                  </td>
            </ng-container> 
            <ng-container matColumnDef="loading">
              <td mat-footer-cell *matFooterCellDef colspan="6" align="center">
                <mat-spinner></mat-spinner>
              </td>
            </ng-container>
            <ng-container matColumnDef="noData">
              <td mat-footer-cell *matFooterCellDef colspan="6">
                No data.
              </td>
            </ng-container>
            
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;">
              </tr>
              <tr mat-footer-row *matFooterRowDef="['loading']" [hidden] ="dataSource!=null"></tr>
                <tr mat-footer-row *matFooterRowDef="['noData']" [hidden] ="!(dataSource!=null && dataSource.data.length==0)"></tr>
            
            
            
            
            </table>
            
            
            
            
            <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator> -->
            <mat-paginator [length]="resultsLength" [pageSize]="10"></mat-paginator>
            </div>
            
            
            </div>
    </mat-card-content>
</mat-card>



